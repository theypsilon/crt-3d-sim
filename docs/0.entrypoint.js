(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){const o="scaling-auto",r="scaling-4:3",i="scaling-custom",c="scaling-stretch-both",d="scaling-stretch-nearest",a="powerPreference-1",u="gl-canvas",s="preview",l="scaling",f="powerPreference",_=document.getElementById("ui"),g=document.getElementById("form"),w=document.getElementById("loading"),p=document.getElementById("file"),m=document.getElementById("start-custom"),b=document.getElementById("start-animation"),h=document.getElementById("antialias"),y=document.getElementById("scaling-custom-resolution-width"),x=document.getElementById("scaling-custom-resolution-height"),L=document.getElementById("scaling-custom-aspect-ratio-x"),E=document.getElementById("scaling-custom-aspect-ratio-y"),C=document.getElementById("scaling-custom-inputs"),v=document.getElementById("drop-zone"),R=document.getElementById("restore-default-options"),W=document.getElementById("info-hide"),G=document.getElementById("info-panel"),I=document.getElementById("fps-counter"),P=document.getElementById("camera-pos-x"),S=document.getElementById("camera-pos-y"),A=document.getElementById("camera-pos-z"),D=document.getElementById("camera-dir-x"),M=document.getElementById("camera-dir-y"),k=document.getElementById("camera-dir-z"),O=document.getElementById("camera-axis-up-x"),B=document.getElementById("camera-axis-up-y"),T=document.getElementById("camera-axis-up-z"),H=document.getElementById("pixel-scale-x"),F=document.getElementById("pixel-scale-y"),U=document.getElementById("pixel-gap"),j=()=>document.getElementById(u),q=()=>document.getElementById(s),V=function(){return{showUi:()=>e(_),hideUi:()=>t(_),showLoading:()=>e(w),hideLoading:()=>t(w),showInfoPanel:()=>e(G),hideInfoPanel:()=>t(G),isInfoPanelVisible:()=>(function(e){return 0==e.classList.contains("display-none")})(G),showScaleCustomInputs:()=>e(C),hideScaleCustomInputs:()=>t(C)};function e(e){e.classList.remove("display-none")}function t(e){e.classList.add("display-none")}}(),Y=function(){return{getScalingInputElement:()=>e("option-scaling-id",o),setScalingId:e=>localStorage.setItem("option-scaling-id",e),getCustomResWidth:()=>localStorage.getItem("option-scaling-custom-resolution-width")||256,setCustomResWidth:e=>localStorage.setItem("option-scaling-custom-resolution-width",e),getCustomResHeight:()=>localStorage.getItem("option-scaling-custom-resolution-height")||224,setCustomResHeight:e=>localStorage.setItem("option-scaling-custom-resolution-height",e),getCustomArX:()=>localStorage.getItem("option-scaling-custom-aspect-ratio-x")||4,setCustomArX:e=>localStorage.setItem("option-scaling-custom-aspect-ratio-x",e),getCustomArY:()=>localStorage.getItem("option-scaling-custom-aspect-ratio-y")||3,setCustomArY:e=>localStorage.setItem("option-scaling-custom-aspect-ratio-y",e),getPowerPreferenceInputElement:()=>e("option-powerPreference-id",a),setPowerPreference:e=>localStorage.setItem("option-powerPreference-id",e),getAntiAliasing:()=>"true"===localStorage.getItem("option-antialias"),setAntiAliasing:e=>localStorage.setItem("option-antialias",e?"true":"false"),removeAllOptions:()=>{localStorage.removeItem("option-scaling-id"),localStorage.removeItem("option-scaling-custom-resolution-width"),localStorage.removeItem("option-scaling-custom-resolution-height"),localStorage.removeItem("option-powerPreference-id"),localStorage.removeItem("option-antialias")}};function e(e,t){return document.getElementById(localStorage.getItem(e))||document.getElementById(t)}}();function z(){X(),V.showUi(),V.hideLoading(),new Promise((e,t)=>{m.onclick=(()=>{V.hideUi(),V.showLoading(),setTimeout(()=>{const t=q(),n=document.createElement("canvas"),o=n.getContext("2d");n.width=t.width,n.height=t.height,o.drawImage(t,0,0);var r=o.getImageData(0,0,t.width,t.height);e([r])},50)}),b.onclick=(()=>{V.hideUi(),V.showLoading(),new Promise((e,t)=>{const n=new Image;n.src="assets/wwix_spritesheet.png",n.onload=(()=>{const t=document.createElement("canvas"),o=t.getContext("2d");t.width=n.width,t.height=n.height,o.drawImage(n,0,0);const r=Math.floor(n.width/256),i=[];for(let e=0;e<=45;e++){const t=e%r,n=Math.floor(e/r);i.push(o.getImageData(256*t,224*n,256,224))}e(i)}),n.onerror=(e=>t(e))}).then(e)})}).then(e=>{console.log((new Date).toISOString(),"image readed");const t=window.devicePixelRatio,a=window.screen.width,s=window.screen.height,_=g.querySelector("input[name='"+l+"']:checked");let w=1,p=!1;Y.setScalingId(_.id);const m=e[0].width,b=e[0].height;switch(_.id){case o:w=m<=1024?4/3/(m/b):1,window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Scaling auto detect applying: "+(1===w?"none.":"4:3 on full image.")}));break;case r:w=4/3/(m/b);break;case c:w=a/s/(m/b),p=!0;break;case d:window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Not implemented yet!"}));break;case i:Y.setCustomResWidth(y.value),Y.setCustomResHeight(x.value),Y.setCustomArX(L.value),Y.setCustomArY(E.value),w=+L.value/+E.value/(+y.value/+x.value)}const C=document.createElement("canvas");C.id=u,C.width=80*Math.floor(a*t/80),C.height=60*Math.floor(s*t/60),C.style.width=a,C.style.height=s,G.style.setProperty("max-height",s-50),document.body.appendChild(C);const v=g.querySelector("input[name='"+f+"']:checked"),R={alpha:!0,antialias:h.checked,depth:!0,failIfMajorPerformanceCaveat:!1,powerPreference:v.value,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1};Y.setAntiAliasing(R.antialias),Y.setPowerPreference(v.id),console.log("gl context form",R);const W=C.getContext("webgl2",R);var I=document.documentElement;if(I.requestFullscreen=I.requestFullscreen||I.webkitRequestFullScreen||I.mozRequestFullScreen||I.msRequestFullscreen,C.onmousedown=(e=>{1==e.buttons&&(C.requestPointerLock(),window.screen.width!=window.innerWidth&&window.screen.height!=window.innerHeight&&I.requestFullscreen())}),C.requestPointerLock=C.requestPointerLock||C.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,!W)return window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"WebGL is not working on your browser, try restarting it! And remember, this works only on a PC with updated browser and graphics drivers."})),console.error(new Error("Could not get webgl context.")),C.remove(),void z();n.e(0).then(n.bind(null,2)).then(n=>{const o=new n.Animation_Source(e[0].width,e[0].height,C.width,C.height,1/60,+w,p,t);for(let t=0;t<e.length;t++){const n=e[t];o.add(n.data.buffer)}console.log((new Date).toISOString(),"calling wasm main"),n.main(W,o),console.log((new Date).toISOString(),"wasm main done"),V.hideLoading(),V.showInfoPanel()})})}function X(){const e=Y.getScalingInputElement();e.checked=!0,e.id===i&&V.showScaleCustomInputs(),y.value=Y.getCustomResWidth(),x.value=Y.getCustomResHeight(),L.value=Y.getCustomArX(),E.value=Y.getCustomArY(),h.checked=Y.getAntiAliasing(),Y.getPowerPreferenceInputElement().checked=!0}async function K(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.send(null),await new Promise(e=>t.onload=(()=>e()));const n=URL.createObjectURL(t.response),o=new Image;o.src=n,await new Promise(e=>o.onload=(()=>e()));const r=q();r&&r.remove(),o.id=s,o.width>o.height?o.style.width="100px":o.style.height="100px",v.innerHTML="",v.appendChild(o),console.log((new Date).toISOString(),"image loaded"),m.disabled=!1}window.ondrop=(e=>{e.preventDefault()}),window.ondragover=(e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"}),window.addEventListener("app-event.toggle_info_panel",()=>{j()&&(!1===V.isInfoPanelVisible()?V.showInfoPanel():(V.hideInfoPanel(),window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Toggle the Info Panel by pressing SPACE."}))))},!1),window.addEventListener("app-event.exit_pointer_lock",()=>{document.exitPointerLock()},!1),window.addEventListener("app-event.exiting_session",()=>{z(),j().remove(),V.hideInfoPanel()},!1),window.addEventListener("app-event.fps",e=>{I.innerHTML=Math.round(e.detail)},!1),window.addEventListener("app-event.top_message",e=>{const t=document.getElementById("top-message");t&&t.remove();const n=document.createElement("div");n.id="top-message";const o=document.createElement("span");o.innerHTML=e.detail,n.appendChild(o),document.body.appendChild(n);let r=.75;n.style.opacity=r,setTimeout(()=>{!function e(){r>=.01?(r-=.01,n.style.opacity=r,setTimeout(e,16)):n.remove()}()},100*e.detail.length)},!1),window.addEventListener("app-event.camera_update",e=>{P.innerHTML=Math.round(100*e.detail[0])/100,S.innerHTML=Math.round(100*e.detail[1])/100,A.innerHTML=Math.round(100*e.detail[2])/100,D.innerHTML=Math.round(100*e.detail[3])/100,M.innerHTML=Math.round(100*e.detail[4])/100,k.innerHTML=Math.round(100*e.detail[5])/100,O.innerHTML=Math.round(100*e.detail[6])/100,B.innerHTML=Math.round(100*e.detail[7])/100,T.innerHTML=Math.round(100*e.detail[8])/100},!1),window.addEventListener("app-event.change_pixel_scale_x",e=>{H.innerHTML=Math.round(1e3*e.detail)/1e3},!1),window.addEventListener("app-event.change_pixel_scale_y",e=>{F.innerHTML=Math.round(1e3*e.detail)/1e3},!1),window.addEventListener("app-event.change_pixel_gap",e=>{U.innerHTML=Math.round(1e3*e.detail)/1e3},!1),W.onclick=(()=>{j()&&(V.hideInfoPanel(),window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Show the Info Panel again by pressing SPACE."})))}),p.onchange=(()=>{const e=p.files[0];K((window.URL||window.webkitURL).createObjectURL(e))}),v.onclick=(()=>{p.click()}),v.ondragover=(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}),v.ondrop=(e=>{e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files[0];K((window.URL||window.webkitURL).createObjectURL(t))}),document.form[l].forEach(e=>{e.onclick=function(){this.id===i?V.showScaleCustomInputs():V.hideScaleCustomInputs()}}),R.onclick=(()=>{Y.removeAllOptions(),Y.getScalingInputElement().checked=!1,Y.getPowerPreferenceInputElement().checked=!1,X()}),z()},function(e,t,n){"use strict";n.r(t),n.d(t,"main",function(){return d}),n.d(t,"__widl_f_error_2_",function(){return l}),n.d(t,"__widl_f_log_2_",function(){return _}),n.d(t,"__widl_f_new_with_event_init_dict_CustomEvent",function(){return y}),n.d(t,"__widl_f_set_onkeydown_Document",function(){return E}),n.d(t,"__widl_f_set_onkeyup_Document",function(){return v}),n.d(t,"__widl_f_set_onmousedown_Document",function(){return W}),n.d(t,"__widl_f_set_onmousemove_Document",function(){return I}),n.d(t,"__widl_f_set_onmouseup_Document",function(){return S}),n.d(t,"__widl_f_set_onwheel_Document",function(){return D}),n.d(t,"__widl_instanceof_Event",function(){return M}),n.d(t,"__widl_f_new_Event",function(){return k}),n.d(t,"__widl_instanceof_EventTarget",function(){return O}),n.d(t,"__widl_f_dispatch_event_EventTarget",function(){return T}),n.d(t,"__widl_instanceof_KeyboardEvent",function(){return H}),n.d(t,"__widl_f_key_KeyboardEvent",function(){return q}),n.d(t,"__widl_instanceof_MouseEvent",function(){return V}),n.d(t,"__widl_f_buttons_MouseEvent",function(){return z}),n.d(t,"__widl_f_movement_x_MouseEvent",function(){return K}),n.d(t,"__widl_f_movement_y_MouseEvent",function(){return N}),n.d(t,"__widl_f_now_Performance",function(){return Q}),n.d(t,"__widl_instanceof_WebGL2RenderingContext",function(){return Z}),n.d(t,"__widl_f_bind_vertex_array_WebGL2RenderingContext",function(){return te}),n.d(t,"__widl_f_buffer_data_with_opt_array_buffer_WebGL2RenderingContext",function(){return oe}),n.d(t,"__widl_f_create_vertex_array_WebGL2RenderingContext",function(){return ce}),n.d(t,"__widl_f_draw_arrays_instanced_WebGL2RenderingContext",function(){return ae}),n.d(t,"__widl_f_tex_image_2d_with_i32_and_i32_and_i32_and_format_and_type_and_opt_u8_array_WebGL2RenderingContext",function(){return se}),n.d(t,"__widl_f_uniform2fv_with_f32_array_WebGL2RenderingContext",function(){return ge}),n.d(t,"__widl_f_uniform3fv_with_f32_array_WebGL2RenderingContext",function(){return pe}),n.d(t,"__widl_f_uniform_matrix4fv_with_f32_array_WebGL2RenderingContext",function(){return be}),n.d(t,"__widl_f_vertex_attrib_divisor_WebGL2RenderingContext",function(){return ye}),n.d(t,"__widl_f_attach_shader_WebGL2RenderingContext",function(){return Le}),n.d(t,"__widl_f_bind_buffer_WebGL2RenderingContext",function(){return Ce}),n.d(t,"__widl_f_bind_framebuffer_WebGL2RenderingContext",function(){return Re}),n.d(t,"__widl_f_bind_texture_WebGL2RenderingContext",function(){return Ge}),n.d(t,"__widl_f_clear_WebGL2RenderingContext",function(){return Pe}),n.d(t,"__widl_f_clear_color_WebGL2RenderingContext",function(){return Ae}),n.d(t,"__widl_f_compile_shader_WebGL2RenderingContext",function(){return Me}),n.d(t,"__widl_f_create_buffer_WebGL2RenderingContext",function(){return Oe}),n.d(t,"__widl_f_create_framebuffer_WebGL2RenderingContext",function(){return Te}),n.d(t,"__widl_f_create_program_WebGL2RenderingContext",function(){return Fe}),n.d(t,"__widl_f_create_shader_WebGL2RenderingContext",function(){return je}),n.d(t,"__widl_f_create_texture_WebGL2RenderingContext",function(){return Ve}),n.d(t,"__widl_f_draw_elements_with_i32_WebGL2RenderingContext",function(){return ze}),n.d(t,"__widl_f_enable_WebGL2RenderingContext",function(){return Ke}),n.d(t,"__widl_f_enable_vertex_attrib_array_WebGL2RenderingContext",function(){return Ne}),n.d(t,"__widl_f_framebuffer_texture_2d_WebGL2RenderingContext",function(){return Qe}),n.d(t,"__widl_f_get_attrib_location_WebGL2RenderingContext",function(){return et}),n.d(t,"__widl_f_get_error_WebGL2RenderingContext",function(){return nt}),n.d(t,"__widl_f_get_program_info_log_WebGL2RenderingContext",function(){return rt}),n.d(t,"__widl_f_get_program_parameter_WebGL2RenderingContext",function(){return ct}),n.d(t,"__widl_f_get_shader_info_log_WebGL2RenderingContext",function(){return at}),n.d(t,"__widl_f_get_shader_parameter_WebGL2RenderingContext",function(){return st}),n.d(t,"__widl_f_get_uniform_location_WebGL2RenderingContext",function(){return ft}),n.d(t,"__widl_f_link_program_WebGL2RenderingContext",function(){return gt}),n.d(t,"__widl_f_shader_source_WebGL2RenderingContext",function(){return pt}),n.d(t,"__widl_f_tex_parameteri_WebGL2RenderingContext",function(){return bt}),n.d(t,"__widl_f_uniform1f_WebGL2RenderingContext",function(){return yt}),n.d(t,"__widl_f_uniform1i_WebGL2RenderingContext",function(){return Lt}),n.d(t,"__widl_f_use_program_WebGL2RenderingContext",function(){return Ct}),n.d(t,"__widl_f_vertex_attrib_pointer_with_i32_WebGL2RenderingContext",function(){return Rt}),n.d(t,"__widl_instanceof_WheelEvent",function(){return Wt}),n.d(t,"__widl_f_delta_y_WheelEvent",function(){return It}),n.d(t,"__widl_instanceof_Window",function(){return Pt}),n.d(t,"__widl_f_request_animation_frame_Window",function(){return At}),n.d(t,"__widl_f_document_Window",function(){return Mt}),n.d(t,"__widl_f_performance_Window",function(){return Ot}),n.d(t,"__wbg_new_b0f6b20c16090c90",function(){return Bt}),n.d(t,"__wbg_fill_9f0d9c86387a5bbe",function(){return Ht}),n.d(t,"__wbg_buffer_1034a5b5085bbbb5",function(){return Ut}),n.d(t,"__wbg_newnoargs_b1f726fad978f5a3",function(){return jt}),n.d(t,"__wbg_call_fa7f0da29d7b9250",function(){return Vt}),n.d(t,"__wbg_new_8a965115a94e60a6",function(){return Yt}),n.d(t,"__wbg_fill_cce7cbd502c089ed",function(){return Xt}),n.d(t,"__wbg_buffer_0d3e7d987a46cf96",function(){return Jt}),n.d(t,"__wbg_new_70e5fc804058d6a0",function(){return Nt}),n.d(t,"__wbg_set_3387446d3253486c",function(){return Qt}),n.d(t,"Animation_Source",function(){return Zt}),n.d(t,"__wbindgen_object_clone_ref",function(){return en}),n.d(t,"__wbindgen_object_drop_ref",function(){return nn}),n.d(t,"__wbindgen_string_new",function(){return on}),n.d(t,"__wbindgen_number_new",function(){return rn}),n.d(t,"__wbindgen_boolean_get",function(){return cn}),n.d(t,"__wbindgen_cb_drop",function(){return dn}),n.d(t,"__wbindgen_closure_wrapper28",function(){return an}),n.d(t,"__wbindgen_throw",function(){return un}),n.d(t,"__wbindgen_Math_tan",function(){return sn});var o=n(3);const r=[{obj:void 0},{obj:null},{obj:!0},{obj:!1}];let i=r.length;function c(e){i===r.length&&r.push(r.length+1);const t=i,n=r[t];return i=n,r[t]={obj:e,cnt:1},t<<1}function d(e,t){const n=t.ptr;if(0===n)throw new Error("Attempt to use a moved value");return t.ptr=0,o.f(c(e),n)}const a=console.error,u=[];function s(e){if(1==(1&e))return u[e>>1];return r[e>>1].obj}function l(e,t){a(s(e),s(t))}const f=console.log;function _(e,t){f(s(e),s(t))}let g=null;function w(){return null!==g&&g.buffer===o.g.buffer||(g=new Uint32Array(o.g.buffer)),g}let p=new TextDecoder("utf-8"),m=null;function b(){return null!==m&&m.buffer===o.g.buffer||(m=new Uint8Array(o.g.buffer)),m}function h(e,t){return p.decode(b().subarray(e,e+t))}function y(e,t,n,o){let r=h(e,t);try{return c(new CustomEvent(r,s(n)))}catch(e){const t=w();t[o/4]=1,t[o/4+1]=c(e)}}function x(e,t){for(;e;){let n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Object.getPrototypeOf(e)}throw new Error(`descriptor for id='${t}' not found`)}const L=x(Document.prototype,"onkeydown").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onkeydown').set does not exist")};function E(e,t){L.call(s(e),s(t))}const C=x(Document.prototype,"onkeyup").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onkeyup').set does not exist")};function v(e,t){C.call(s(e),s(t))}const R=x(Document.prototype,"onmousedown").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmousedown').set does not exist")};function W(e,t){R.call(s(e),s(t))}const G=x(Document.prototype,"onmousemove").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmousemove').set does not exist")};function I(e,t){G.call(s(e),s(t))}const P=x(Document.prototype,"onmouseup").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmouseup').set does not exist")};function S(e,t){P.call(s(e),s(t))}const A=x(Document.prototype,"onwheel").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onwheel').set does not exist")};function D(e,t){A.call(s(e),s(t))}function M(e){return s(e)instanceof Event?1:0}function k(e,t,n){let o=h(e,t);try{return c(new Event(o))}catch(e){const t=w();t[n/4]=1,t[n/4+1]=c(e)}}function O(e){return s(e)instanceof EventTarget?1:0}const B=EventTarget.prototype.dispatchEvent||function(){throw new Error("wasm-bindgen: EventTarget.prototype.dispatchEvent does not exist")};function T(e,t,n){try{return B.call(s(e),s(t))?1:0}catch(e){const t=w();t[n/4]=1,t[n/4+1]=c(e)}}function H(e){return s(e)instanceof KeyboardEvent?1:0}const F=x(KeyboardEvent.prototype,"key").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(KeyboardEvent.prototype, 'key').get does not exist")};let U=new TextEncoder("utf-8");function j(e){const t=U.encode(e),n=o.c(t.length);return b().set(t,n),[n,t.length]}function q(e,t){const[n,o]=j(F.call(s(t))),r=w();r[e/4]=n,r[e/4+1]=o}function V(e){return s(e)instanceof MouseEvent?1:0}const Y=x(MouseEvent.prototype,"buttons").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'buttons').get does not exist")};function z(e){return Y.call(s(e))}const X=x(MouseEvent.prototype,"movementX").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'movementX').get does not exist")};function K(e){return X.call(s(e))}const J=x(MouseEvent.prototype,"movementY").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'movementY').get does not exist")};function N(e){return J.call(s(e))}const $=Performance.prototype.now||function(){throw new Error("wasm-bindgen: Performance.prototype.now does not exist")};function Q(e){return $.call(s(e))}function Z(e){return s(e)instanceof WebGL2RenderingContext?1:0}const ee=WebGL2RenderingContext.prototype.bindVertexArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindVertexArray does not exist")};function te(e,t){ee.call(s(e),s(t))}const ne=WebGL2RenderingContext.prototype.bufferData||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bufferData does not exist")};function oe(e,t,n,o){ne.call(s(e),t,s(n),o)}const re=WebGL2RenderingContext.prototype.createVertexArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createVertexArray does not exist")};function ie(e){return void 0===e||null===e}function ce(e){const t=re.call(s(e));return ie(t)?0:c(t)}const de=WebGL2RenderingContext.prototype.drawArraysInstanced||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.drawArraysInstanced does not exist")};function ae(e,t,n,o,r){de.call(s(e),t,n,o,r)}const ue=WebGL2RenderingContext.prototype.texImage2D||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.texImage2D does not exist")};function se(e,t,n,o,r,i,d,a,u,l,f,_){let g=0==l?void 0:function(e,t){return b().subarray(e/1,e/1+t)}(l,f);try{ue.call(s(e),t,n,o,r,i,d,a,u,g)}catch(e){const t=w();t[_/4]=1,t[_/4+1]=c(e)}}const le=WebGL2RenderingContext.prototype.uniform2fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform2fv does not exist")};let fe=null;function _e(e,t){return(null!==fe&&fe.buffer===o.g.buffer||(fe=new Float32Array(o.g.buffer)),fe).subarray(e/4,e/4+t)}function ge(e,t,n,o){let r=_e(n,o);le.call(s(e),s(t),r)}const we=WebGL2RenderingContext.prototype.uniform3fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform3fv does not exist")};function pe(e,t,n,o){let r=_e(n,o);we.call(s(e),s(t),r)}const me=WebGL2RenderingContext.prototype.uniformMatrix4fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniformMatrix4fv does not exist")};function be(e,t,n,o,r){let i=_e(o,r);me.call(s(e),s(t),0!==n,i)}const he=WebGL2RenderingContext.prototype.vertexAttribDivisor||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.vertexAttribDivisor does not exist")};function ye(e,t,n){he.call(s(e),t,n)}const xe=WebGL2RenderingContext.prototype.attachShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.attachShader does not exist")};function Le(e,t,n){xe.call(s(e),s(t),s(n))}const Ee=WebGL2RenderingContext.prototype.bindBuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindBuffer does not exist")};function Ce(e,t,n){Ee.call(s(e),t,s(n))}const ve=WebGL2RenderingContext.prototype.bindFramebuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindFramebuffer does not exist")};function Re(e,t,n){ve.call(s(e),t,s(n))}const We=WebGL2RenderingContext.prototype.bindTexture||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindTexture does not exist")};function Ge(e,t,n){We.call(s(e),t,s(n))}const Ie=WebGL2RenderingContext.prototype.clear||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.clear does not exist")};function Pe(e,t){Ie.call(s(e),t)}const Se=WebGL2RenderingContext.prototype.clearColor||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.clearColor does not exist")};function Ae(e,t,n,o,r){Se.call(s(e),t,n,o,r)}const De=WebGL2RenderingContext.prototype.compileShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.compileShader does not exist")};function Me(e,t){De.call(s(e),s(t))}const ke=WebGL2RenderingContext.prototype.createBuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createBuffer does not exist")};function Oe(e){const t=ke.call(s(e));return ie(t)?0:c(t)}const Be=WebGL2RenderingContext.prototype.createFramebuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createFramebuffer does not exist")};function Te(e){const t=Be.call(s(e));return ie(t)?0:c(t)}const He=WebGL2RenderingContext.prototype.createProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createProgram does not exist")};function Fe(e){const t=He.call(s(e));return ie(t)?0:c(t)}const Ue=WebGL2RenderingContext.prototype.createShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createShader does not exist")};function je(e,t){const n=Ue.call(s(e),t);return ie(n)?0:c(n)}const qe=WebGL2RenderingContext.prototype.createTexture||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createTexture does not exist")};function Ve(e){const t=qe.call(s(e));return ie(t)?0:c(t)}const Ye=WebGL2RenderingContext.prototype.drawElements||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.drawElements does not exist")};function ze(e,t,n,o,r){Ye.call(s(e),t,n,o,r)}const Xe=WebGL2RenderingContext.prototype.enable||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.enable does not exist")};function Ke(e,t){Xe.call(s(e),t)}const Je=WebGL2RenderingContext.prototype.enableVertexAttribArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.enableVertexAttribArray does not exist")};function Ne(e,t){Je.call(s(e),t)}const $e=WebGL2RenderingContext.prototype.framebufferTexture2D||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.framebufferTexture2D does not exist")};function Qe(e,t,n,o,r,i){$e.call(s(e),t,n,o,s(r),i)}const Ze=WebGL2RenderingContext.prototype.getAttribLocation||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getAttribLocation does not exist")};function et(e,t,n,o){let r=h(n,o);return Ze.call(s(e),s(t),r)}const tt=WebGL2RenderingContext.prototype.getError||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getError does not exist")};function nt(e){return tt.call(s(e))}const ot=WebGL2RenderingContext.prototype.getProgramInfoLog||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getProgramInfoLog does not exist")};function rt(e,t,n){const o=ot.call(s(t),s(n)),[r,i]=ie(o)?[0,0]:j(o),c=w();c[e/4]=r,c[e/4+1]=i}const it=WebGL2RenderingContext.prototype.getProgramParameter||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getProgramParameter does not exist")};function ct(e,t,n){return c(it.call(s(e),s(t),n))}const dt=WebGL2RenderingContext.prototype.getShaderInfoLog||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getShaderInfoLog does not exist")};function at(e,t,n){const o=dt.call(s(t),s(n)),[r,i]=ie(o)?[0,0]:j(o),c=w();c[e/4]=r,c[e/4+1]=i}const ut=WebGL2RenderingContext.prototype.getShaderParameter||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getShaderParameter does not exist")};function st(e,t,n){return c(ut.call(s(e),s(t),n))}const lt=WebGL2RenderingContext.prototype.getUniformLocation||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getUniformLocation does not exist")};function ft(e,t,n,o){let r=h(n,o);const i=lt.call(s(e),s(t),r);return ie(i)?0:c(i)}const _t=WebGL2RenderingContext.prototype.linkProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.linkProgram does not exist")};function gt(e,t){_t.call(s(e),s(t))}const wt=WebGL2RenderingContext.prototype.shaderSource||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.shaderSource does not exist")};function pt(e,t,n,o){let r=h(n,o);wt.call(s(e),s(t),r)}const mt=WebGL2RenderingContext.prototype.texParameteri||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.texParameteri does not exist")};function bt(e,t,n,o){mt.call(s(e),t,n,o)}const ht=WebGL2RenderingContext.prototype.uniform1f||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform1f does not exist")};function yt(e,t,n){ht.call(s(e),s(t),n)}const xt=WebGL2RenderingContext.prototype.uniform1i||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform1i does not exist")};function Lt(e,t,n){xt.call(s(e),s(t),n)}const Et=WebGL2RenderingContext.prototype.useProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.useProgram does not exist")};function Ct(e,t){Et.call(s(e),s(t))}const vt=WebGL2RenderingContext.prototype.vertexAttribPointer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.vertexAttribPointer does not exist")};function Rt(e,t,n,o,r,i,c){vt.call(s(e),t,n,o,0!==r,i,c)}function Wt(e){return s(e)instanceof WheelEvent?1:0}const Gt=x(WheelEvent.prototype,"deltaY").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(WheelEvent.prototype, 'deltaY').get does not exist")};function It(e){return Gt.call(s(e))}function Pt(e){return s(e)instanceof Window?1:0}const St=function(e){return this.requestAnimationFrame(e)};function At(e,t,n){try{return St.call(s(e),s(t))}catch(e){const t=w();t[n/4]=1,t[n/4+1]=c(e)}}const Dt=function(){return this.document};function Mt(e){const t=Dt.call(s(e));return ie(t)?0:c(t)}const kt=function(){return this.performance};function Ot(e){const t=kt.call(s(e));return ie(t)?0:c(t)}function Bt(e){return c(new Float32Array(s(e)))}const Tt=Float32Array.prototype.fill||function(){throw new Error("wasm-bindgen: Float32Array.prototype.fill does not exist")};function Ht(e,t,n,o){return c(Tt.call(s(e),t,n,o))}const Ft=x(Float32Array.prototype,"buffer").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Float32Array.prototype, 'buffer').get does not exist")};function Ut(e){return c(Ft.call(s(e)))}function jt(e,t){let n=h(e,t);return c(new Function(n))}const qt=Function.prototype.call||function(){throw new Error("wasm-bindgen: Function.prototype.call does not exist")};function Vt(e,t,n){try{return c(qt.call(s(e),s(t)))}catch(e){const t=w();t[n/4]=1,t[n/4+1]=c(e)}}function Yt(e){return c(new Int32Array(s(e)))}const zt=Int32Array.prototype.fill||function(){throw new Error("wasm-bindgen: Int32Array.prototype.fill does not exist")};function Xt(e,t,n,o){return c(zt.call(s(e),t,n,o))}const Kt=x(Int32Array.prototype,"buffer").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Int32Array.prototype, 'buffer').get does not exist")};function Jt(e){return c(Kt.call(s(e)))}function Nt(){return c(new Object)}const $t=Reflect.set.bind(Reflect)||function(){throw new Error("wasm-bindgen: Reflect.set.bind(Reflect) does not exist")};function Qt(e,t,n,o){try{return $t(s(e),s(t),s(n))?1:0}catch(e){const t=w();t[o/4]=1,t[o/4+1]=c(e)}}class Zt{free(){const e=this.ptr;this.ptr=0,function(e){o.a(e)}(e)}constructor(e,t,n,r,i,c,d,a){this.ptr=o.e(e,t,n,r,i,c,d?1:0,a)}add(e){return o.d(this.ptr,c(e))}}function en(e){if(1==(1&e))return c(s(e));return r[e>>1].cnt+=1,e}function tn(e){if((e>>=1)<4)return;let t=r[e];t.cnt-=1,t.cnt>0||(r[e]=i,i=e)}function nn(e){tn(e)}function on(e,t){return c(h(e,t))}function rn(e){return c(e)}function cn(e){let t=s(e);return"boolean"==typeof t?t?1:0:2}function dn(e){let t=s(e).original;t.a=t.b=0,tn(e)}function an(e,t,n){let r=function(e){let t=this.a;this.a=0;try{return this.f(t,c(e))}finally{this.a=t}};r.f=o.b.get(t),r.a=e;let i=r.bind(r);return i.original=r,c(i)}function un(e,t){throw new Error(h(e,t))}function sn(e){return Math.tan(e)}},function(e,t,n){"use strict";var o=n.w[e.i];e.exports=o;n(2);o.h()}],0,[0]]);
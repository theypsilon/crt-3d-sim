(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,n,t){const o=document.getElementById("ui"),r=document.getElementById("form"),i=document.getElementById("loading"),c=document.getElementById("file"),d=document.getElementById("start-custom"),a=document.getElementById("start-animation"),u=document.getElementById("antialias"),s=document.getElementById("scale-x"),l=document.getElementById("scale-y"),f=document.getElementById("scale-custom-inputs"),_=document.getElementById("drop-zone"),w=document.getElementById("info-hide"),p=document.getElementById("info-panel"),g=document.getElementById("fps-counter"),m=document.getElementById("camera-pos-x"),b=document.getElementById("camera-pos-y"),y=document.getElementById("camera-pos-z"),x=document.getElementById("camera-dir-x"),h=document.getElementById("camera-dir-y"),L=document.getElementById("camera-dir-z"),E=document.getElementById("camera-axis-up-x"),v=document.getElementById("camera-axis-up-y"),C=document.getElementById("camera-axis-up-z"),R=document.getElementById("pixel-scale-x"),G=document.getElementById("pixel-scale-y"),W=document.getElementById("pixel-gap");function I(){const e=localStorage.getItem("scale")||"scale-auto";scaleSelection=document.getElementById(e),scaleSelection&&(scaleSelection.checked=!0),"scale-custom"===e&&f.classList.remove("display-none"),s.value=localStorage.getItem("scale-x")||1,l.value=localStorage.getItem("scale-y")||1,u.checked="true"===localStorage.getItem("antialias"),document.getElementById(localStorage.getItem("powerPreference")||"powerPreference-1").checked=!0,document.getElementById("preview")&&d.classList.remove("display-none"),o.classList.remove("display-none"),i.classList.add("display-none"),new Promise((e,n)=>{d.onclick=(()=>{o.classList.add("display-none"),i.classList.remove("display-none"),setTimeout(()=>{const n=document.getElementById("preview"),t=document.createElement("canvas"),o=t.getContext("2d");t.width=n.width,t.height=n.height,o.drawImage(n,0,0);var r=o.getImageData(0,0,n.width,n.height);e([r])},50)}),a.onclick=(()=>{o.classList.add("display-none"),i.classList.remove("display-none"),new Promise((e,n)=>{const t=new Image;t.src="assets/wwix_spritesheet.png",t.onload=(()=>{const n=document.createElement("canvas"),o=n.getContext("2d");n.width=t.width,n.height=t.height,o.drawImage(t,0,0);const r=Math.floor(t.width/256),i=[];for(let e=0;e<=45;e++){const n=e%r,t=Math.floor(e/r);i.push(o.getImageData(256*n,224*t,256,224))}e(i)}),t.onerror=(e=>n(e))}).then(e)})}).then(e=>{console.log((new Date).toISOString(),"image readed");const n=window.devicePixelRatio,o=window.screen.width,c=window.screen.height,d=r.querySelector('input[name="scale"]:checked');let a=1,s=!1;localStorage.setItem("scale",d.id);const l=e[0].width,f=e[0].height;switch(d.id){case"scale-auto":let e="none";256==l&&224==f?e="256x224":256==l&&240==f?e="256x224":320==l&&224==f?e="256x224":160==l&&144==f?e="256x224":240==l&&160==f?e="256x224":320==l&&200==f&&(e="256x224"),a=document.getElementById("scale-"+e).value,window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Scaling auto detect applying: "+e+("none"==e?"":" on 4:3")}));break;case"scale-stretch":a=o/c/(l/f),s=!0;break;case"scale-custom":a=document.getElementById("scale-x").value;const n=document.getElementById("scale-y").value;localStorage.setItem("scale-x",a),localStorage.setItem("scale-y",n),a=+a/+n;break;default:a=d.value}const _=document.createElement("canvas");_.id="gl-canvas",_.width=80*Math.floor(o*n/80),_.height=60*Math.floor(c*n/60),_.style.width=o,_.style.height=c,p.style.setProperty("max-height",c-50),document.body.appendChild(_);const w=r.querySelector('input[name="powerPreference"]:checked'),g={alpha:!0,antialias:u.checked,depth:!0,failIfMajorPerformanceCaveat:!1,powerPreference:w.value,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1};localStorage.setItem("antialias",g.antialias?"true":"false"),localStorage.setItem("powerPreference",w.id),console.log("gl context form",g);const m=_.getContext("webgl2",g);var b=document.documentElement;if(b.requestFullscreen=b.requestFullscreen||b.webkitRequestFullScreen||b.mozRequestFullScreen||b.msRequestFullscreen,_.onmousedown=(e=>{1==e.buttons&&(_.requestPointerLock(),window.screen.width!=window.innerWidth&&window.screen.height!=window.innerHeight&&b.requestFullscreen())}),_.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,!m)throw new Error("Could not get webgl context.");t.e(0).then(t.bind(null,2)).then(t=>{const o=new t.Animation_Source(e[0].width,e[0].height,_.width,_.height,1/60,+a,s,n);for(let n=0;n<e.length;n++){const t=e[n];o.add(t.data.buffer)}console.log((new Date).toISOString(),"calling wasm main"),t.main(m,o),console.log((new Date).toISOString(),"wasm main done"),i.classList.add("display-none"),p.classList.remove("display-none")})})}async function P(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.send(null),await new Promise(e=>n.onload=(()=>e()));const t=URL.createObjectURL(n.response),o=new Image;o.src=t,await new Promise(e=>o.onload=(()=>e()));const r=document.getElementById("preview");r&&r.remove(),o.id="preview",o.width>o.height?o.style.width="100px":o.style.height="100px",_.innerHTML="",_.appendChild(o),console.log((new Date).toISOString(),"image loaded"),d.disabled=!1}window.ondrop=(e=>{e.preventDefault()}),window.ondragover=(e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"}),window.addEventListener("app-event.toggle_info_panel",()=>{document.getElementById("gl-canvas")&&(p.classList.contains("display-none")?p.classList.remove("display-none"):(p.classList.add("display-none"),window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Toggle the Info Panel by pressing SPACE."}))))},!1),window.addEventListener("app-event.exit_pointer_lock",()=>{document.exitPointerLock()},!1),window.addEventListener("app-event.exiting_session",()=>{I(),document.getElementById("gl-canvas").remove(),p.classList.add("display-none")},!1),window.addEventListener("app-event.fps",e=>{g.innerHTML=Math.round(e.detail)},!1),window.addEventListener("app-event.top_message",e=>{const n=document.getElementById("top-message");n&&n.remove();const t=document.createElement("div");t.id="top-message";const o=document.createElement("span");o.innerHTML=e.detail,t.appendChild(o),document.body.appendChild(t);let r=.75;t.style.opacity=r,setTimeout(()=>{!function e(){r>=.01?(r-=.01,t.style.opacity=r,setTimeout(e,16)):t.remove()}()},100*e.detail.length)},!1),window.addEventListener("app-event.camera_update",e=>{m.innerHTML=Math.round(100*e.detail[0])/100,b.innerHTML=Math.round(100*e.detail[1])/100,y.innerHTML=Math.round(100*e.detail[2])/100,x.innerHTML=Math.round(100*e.detail[3])/100,h.innerHTML=Math.round(100*e.detail[4])/100,L.innerHTML=Math.round(100*e.detail[5])/100,E.innerHTML=Math.round(100*e.detail[6])/100,v.innerHTML=Math.round(100*e.detail[7])/100,C.innerHTML=Math.round(100*e.detail[8])/100},!1),window.addEventListener("app-event.change_pixel_scale_x",e=>{R.innerHTML=Math.round(1e3*e.detail)/1e3},!1),window.addEventListener("app-event.change_pixel_scale_y",e=>{G.innerHTML=Math.round(1e3*e.detail)/1e3},!1),window.addEventListener("app-event.change_pixel_gap",e=>{W.innerHTML=Math.round(1e3*e.detail)/1e3},!1),w.onclick=(()=>{document.getElementById("gl-canvas")&&(p.classList.add("display-none"),window.dispatchEvent(new CustomEvent("app-event.top_message",{detail:"Show the Info Panel again by pressing SPACE."})))}),c.onchange=(()=>{const e=c.files[0];P((window.URL||window.webkitURL).createObjectURL(e))}),_.onclick=(()=>{document.getElementById("file").click()}),_.ondragover=(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}),_.ondrop=(e=>{e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files[0];P((window.URL||window.webkitURL).createObjectURL(n))}),document.form.scale.forEach(e=>{e.onclick=function(){"scale-custom"===this.id?f.classList.remove("display-none"):f.classList.add("display-none")}}),I()},function(e,n,t){"use strict";t.r(n),t.d(n,"main",function(){return d}),t.d(n,"__widl_f_error_2_",function(){return l}),t.d(n,"__widl_f_log_2_",function(){return _}),t.d(n,"__widl_f_new_with_event_init_dict_CustomEvent",function(){return x}),t.d(n,"__widl_f_set_onkeydown_Document",function(){return E}),t.d(n,"__widl_f_set_onkeyup_Document",function(){return C}),t.d(n,"__widl_f_set_onmousedown_Document",function(){return G}),t.d(n,"__widl_f_set_onmousemove_Document",function(){return I}),t.d(n,"__widl_f_set_onmouseup_Document",function(){return D}),t.d(n,"__widl_f_set_onwheel_Document",function(){return B}),t.d(n,"__widl_instanceof_Event",function(){return S}),t.d(n,"__widl_f_new_Event",function(){return k}),t.d(n,"__widl_instanceof_EventTarget",function(){return O}),t.d(n,"__widl_f_dispatch_event_EventTarget",function(){return A}),t.d(n,"__widl_instanceof_KeyboardEvent",function(){return F}),t.d(n,"__widl_f_key_KeyboardEvent",function(){return U}),t.d(n,"__widl_instanceof_MouseEvent",function(){return z}),t.d(n,"__widl_f_buttons_MouseEvent",function(){return K}),t.d(n,"__widl_f_movement_x_MouseEvent",function(){return X}),t.d(n,"__widl_f_movement_y_MouseEvent",function(){return $}),t.d(n,"__widl_f_now_Performance",function(){return Q}),t.d(n,"__widl_instanceof_WebGL2RenderingContext",function(){return Z}),t.d(n,"__widl_f_bind_vertex_array_WebGL2RenderingContext",function(){return ne}),t.d(n,"__widl_f_buffer_data_with_opt_array_buffer_WebGL2RenderingContext",function(){return oe}),t.d(n,"__widl_f_create_vertex_array_WebGL2RenderingContext",function(){return ce}),t.d(n,"__widl_f_draw_arrays_instanced_WebGL2RenderingContext",function(){return ae}),t.d(n,"__widl_f_tex_image_2d_with_i32_and_i32_and_i32_and_format_and_type_and_opt_u8_array_WebGL2RenderingContext",function(){return se}),t.d(n,"__widl_f_uniform2fv_with_f32_array_WebGL2RenderingContext",function(){return we}),t.d(n,"__widl_f_uniform3fv_with_f32_array_WebGL2RenderingContext",function(){return ge}),t.d(n,"__widl_f_uniform_matrix4fv_with_f32_array_WebGL2RenderingContext",function(){return be}),t.d(n,"__widl_f_vertex_attrib_divisor_WebGL2RenderingContext",function(){return xe}),t.d(n,"__widl_f_attach_shader_WebGL2RenderingContext",function(){return Le}),t.d(n,"__widl_f_bind_buffer_WebGL2RenderingContext",function(){return ve}),t.d(n,"__widl_f_bind_framebuffer_WebGL2RenderingContext",function(){return Re}),t.d(n,"__widl_f_bind_texture_WebGL2RenderingContext",function(){return We}),t.d(n,"__widl_f_clear_WebGL2RenderingContext",function(){return Pe}),t.d(n,"__widl_f_clear_color_WebGL2RenderingContext",function(){return Me}),t.d(n,"__widl_f_compile_shader_WebGL2RenderingContext",function(){return Se}),t.d(n,"__widl_f_create_buffer_WebGL2RenderingContext",function(){return Oe}),t.d(n,"__widl_f_create_framebuffer_WebGL2RenderingContext",function(){return Ae}),t.d(n,"__widl_f_create_program_WebGL2RenderingContext",function(){return He}),t.d(n,"__widl_f_create_shader_WebGL2RenderingContext",function(){return qe}),t.d(n,"__widl_f_create_texture_WebGL2RenderingContext",function(){return ze}),t.d(n,"__widl_f_draw_elements_with_i32_WebGL2RenderingContext",function(){return Ke}),t.d(n,"__widl_f_enable_WebGL2RenderingContext",function(){return Xe}),t.d(n,"__widl_f_enable_vertex_attrib_array_WebGL2RenderingContext",function(){return $e}),t.d(n,"__widl_f_framebuffer_texture_2d_WebGL2RenderingContext",function(){return Qe}),t.d(n,"__widl_f_get_attrib_location_WebGL2RenderingContext",function(){return en}),t.d(n,"__widl_f_get_error_WebGL2RenderingContext",function(){return tn}),t.d(n,"__widl_f_get_program_info_log_WebGL2RenderingContext",function(){return rn}),t.d(n,"__widl_f_get_program_parameter_WebGL2RenderingContext",function(){return dn}),t.d(n,"__widl_f_get_shader_info_log_WebGL2RenderingContext",function(){return un}),t.d(n,"__widl_f_get_shader_parameter_WebGL2RenderingContext",function(){return ln}),t.d(n,"__widl_f_get_uniform_location_WebGL2RenderingContext",function(){return _n}),t.d(n,"__widl_f_link_program_WebGL2RenderingContext",function(){return pn}),t.d(n,"__widl_f_shader_source_WebGL2RenderingContext",function(){return mn}),t.d(n,"__widl_f_tex_parameteri_WebGL2RenderingContext",function(){return yn}),t.d(n,"__widl_f_uniform1f_WebGL2RenderingContext",function(){return hn}),t.d(n,"__widl_f_uniform1i_WebGL2RenderingContext",function(){return En}),t.d(n,"__widl_f_use_program_WebGL2RenderingContext",function(){return Cn}),t.d(n,"__widl_f_vertex_attrib_pointer_with_i32_WebGL2RenderingContext",function(){return Gn}),t.d(n,"__widl_instanceof_WheelEvent",function(){return Wn}),t.d(n,"__widl_f_delta_y_WheelEvent",function(){return Pn}),t.d(n,"__widl_instanceof_Window",function(){return Dn}),t.d(n,"__widl_f_request_animation_frame_Window",function(){return Bn}),t.d(n,"__widl_f_document_Window",function(){return kn}),t.d(n,"__widl_f_performance_Window",function(){return Tn}),t.d(n,"__wbg_new_b0f6b20c16090c90",function(){return An}),t.d(n,"__wbg_fill_9f0d9c86387a5bbe",function(){return Hn}),t.d(n,"__wbg_buffer_1034a5b5085bbbb5",function(){return qn}),t.d(n,"__wbg_newnoargs_b1f726fad978f5a3",function(){return Un}),t.d(n,"__wbg_call_fa7f0da29d7b9250",function(){return Vn}),t.d(n,"__wbg_new_8a965115a94e60a6",function(){return Kn}),t.d(n,"__wbg_fill_cce7cbd502c089ed",function(){return Xn}),t.d(n,"__wbg_buffer_0d3e7d987a46cf96",function(){return $n}),t.d(n,"__wbg_new_70e5fc804058d6a0",function(){return Nn}),t.d(n,"__wbg_set_3387446d3253486c",function(){return Zn}),t.d(n,"Animation_Source",function(){return et}),t.d(n,"__wbindgen_object_clone_ref",function(){return nt}),t.d(n,"__wbindgen_object_drop_ref",function(){return ot}),t.d(n,"__wbindgen_string_new",function(){return rt}),t.d(n,"__wbindgen_number_new",function(){return it}),t.d(n,"__wbindgen_boolean_get",function(){return ct}),t.d(n,"__wbindgen_cb_drop",function(){return dt}),t.d(n,"__wbindgen_closure_wrapper28",function(){return at}),t.d(n,"__wbindgen_throw",function(){return ut}),t.d(n,"__wbindgen_Math_tan",function(){return st});var o=t(3);const r=[{obj:void 0},{obj:null},{obj:!0},{obj:!1}];let i=r.length;function c(e){i===r.length&&r.push(r.length+1);const n=i,t=r[n];return i=t,r[n]={obj:e,cnt:1},n<<1}function d(e,n){const t=n.ptr;if(0===t)throw new Error("Attempt to use a moved value");return n.ptr=0,o.f(c(e),t)}const a=console.error,u=[];function s(e){if(1==(1&e))return u[e>>1];return r[e>>1].obj}function l(e,n){a(s(e),s(n))}const f=console.log;function _(e,n){f(s(e),s(n))}let w=null;function p(){return null!==w&&w.buffer===o.g.buffer||(w=new Uint32Array(o.g.buffer)),w}let g=new TextDecoder("utf-8"),m=null;function b(){return null!==m&&m.buffer===o.g.buffer||(m=new Uint8Array(o.g.buffer)),m}function y(e,n){return g.decode(b().subarray(e,e+n))}function x(e,n,t,o){let r=y(e,n);try{return c(new CustomEvent(r,s(t)))}catch(e){const n=p();n[o/4]=1,n[o/4+1]=c(e)}}function h(e,n){for(;e;){let t=Object.getOwnPropertyDescriptor(e,n);if(t)return t;e=Object.getPrototypeOf(e)}throw new Error(`descriptor for id='${n}' not found`)}const L=h(Document.prototype,"onkeydown").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onkeydown').set does not exist")};function E(e,n){L.call(s(e),s(n))}const v=h(Document.prototype,"onkeyup").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onkeyup').set does not exist")};function C(e,n){v.call(s(e),s(n))}const R=h(Document.prototype,"onmousedown").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmousedown').set does not exist")};function G(e,n){R.call(s(e),s(n))}const W=h(Document.prototype,"onmousemove").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmousemove').set does not exist")};function I(e,n){W.call(s(e),s(n))}const P=h(Document.prototype,"onmouseup").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onmouseup').set does not exist")};function D(e,n){P.call(s(e),s(n))}const M=h(Document.prototype,"onwheel").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'onwheel').set does not exist")};function B(e,n){M.call(s(e),s(n))}function S(e){return s(e)instanceof Event?1:0}function k(e,n,t){let o=y(e,n);try{return c(new Event(o))}catch(e){const n=p();n[t/4]=1,n[t/4+1]=c(e)}}function O(e){return s(e)instanceof EventTarget?1:0}const T=EventTarget.prototype.dispatchEvent||function(){throw new Error("wasm-bindgen: EventTarget.prototype.dispatchEvent does not exist")};function A(e,n,t){try{return T.call(s(e),s(n))?1:0}catch(e){const n=p();n[t/4]=1,n[t/4+1]=c(e)}}function F(e){return s(e)instanceof KeyboardEvent?1:0}const H=h(KeyboardEvent.prototype,"key").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(KeyboardEvent.prototype, 'key').get does not exist")};let j=new TextEncoder("utf-8");function q(e){const n=j.encode(e),t=o.c(n.length);return b().set(n,t),[t,n.length]}function U(e,n){const[t,o]=q(H.call(s(n))),r=p();r[e/4]=t,r[e/4+1]=o}function z(e){return s(e)instanceof MouseEvent?1:0}const V=h(MouseEvent.prototype,"buttons").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'buttons').get does not exist")};function K(e){return V.call(s(e))}const Y=h(MouseEvent.prototype,"movementX").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'movementX').get does not exist")};function X(e){return Y.call(s(e))}const J=h(MouseEvent.prototype,"movementY").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(MouseEvent.prototype, 'movementY').get does not exist")};function $(e){return J.call(s(e))}const N=Performance.prototype.now||function(){throw new Error("wasm-bindgen: Performance.prototype.now does not exist")};function Q(e){return N.call(s(e))}function Z(e){return s(e)instanceof WebGL2RenderingContext?1:0}const ee=WebGL2RenderingContext.prototype.bindVertexArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindVertexArray does not exist")};function ne(e,n){ee.call(s(e),s(n))}const te=WebGL2RenderingContext.prototype.bufferData||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bufferData does not exist")};function oe(e,n,t,o){te.call(s(e),n,s(t),o)}const re=WebGL2RenderingContext.prototype.createVertexArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createVertexArray does not exist")};function ie(e){return void 0===e||null===e}function ce(e){const n=re.call(s(e));return ie(n)?0:c(n)}const de=WebGL2RenderingContext.prototype.drawArraysInstanced||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.drawArraysInstanced does not exist")};function ae(e,n,t,o,r){de.call(s(e),n,t,o,r)}const ue=WebGL2RenderingContext.prototype.texImage2D||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.texImage2D does not exist")};function se(e,n,t,o,r,i,d,a,u,l,f,_){let w=0==l?void 0:function(e,n){return b().subarray(e/1,e/1+n)}(l,f);try{ue.call(s(e),n,t,o,r,i,d,a,u,w)}catch(e){const n=p();n[_/4]=1,n[_/4+1]=c(e)}}const le=WebGL2RenderingContext.prototype.uniform2fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform2fv does not exist")};let fe=null;function _e(e,n){return(null!==fe&&fe.buffer===o.g.buffer||(fe=new Float32Array(o.g.buffer)),fe).subarray(e/4,e/4+n)}function we(e,n,t,o){let r=_e(t,o);le.call(s(e),s(n),r)}const pe=WebGL2RenderingContext.prototype.uniform3fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform3fv does not exist")};function ge(e,n,t,o){let r=_e(t,o);pe.call(s(e),s(n),r)}const me=WebGL2RenderingContext.prototype.uniformMatrix4fv||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniformMatrix4fv does not exist")};function be(e,n,t,o,r){let i=_e(o,r);me.call(s(e),s(n),0!==t,i)}const ye=WebGL2RenderingContext.prototype.vertexAttribDivisor||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.vertexAttribDivisor does not exist")};function xe(e,n,t){ye.call(s(e),n,t)}const he=WebGL2RenderingContext.prototype.attachShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.attachShader does not exist")};function Le(e,n,t){he.call(s(e),s(n),s(t))}const Ee=WebGL2RenderingContext.prototype.bindBuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindBuffer does not exist")};function ve(e,n,t){Ee.call(s(e),n,s(t))}const Ce=WebGL2RenderingContext.prototype.bindFramebuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindFramebuffer does not exist")};function Re(e,n,t){Ce.call(s(e),n,s(t))}const Ge=WebGL2RenderingContext.prototype.bindTexture||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.bindTexture does not exist")};function We(e,n,t){Ge.call(s(e),n,s(t))}const Ie=WebGL2RenderingContext.prototype.clear||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.clear does not exist")};function Pe(e,n){Ie.call(s(e),n)}const De=WebGL2RenderingContext.prototype.clearColor||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.clearColor does not exist")};function Me(e,n,t,o,r){De.call(s(e),n,t,o,r)}const Be=WebGL2RenderingContext.prototype.compileShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.compileShader does not exist")};function Se(e,n){Be.call(s(e),s(n))}const ke=WebGL2RenderingContext.prototype.createBuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createBuffer does not exist")};function Oe(e){const n=ke.call(s(e));return ie(n)?0:c(n)}const Te=WebGL2RenderingContext.prototype.createFramebuffer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createFramebuffer does not exist")};function Ae(e){const n=Te.call(s(e));return ie(n)?0:c(n)}const Fe=WebGL2RenderingContext.prototype.createProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createProgram does not exist")};function He(e){const n=Fe.call(s(e));return ie(n)?0:c(n)}const je=WebGL2RenderingContext.prototype.createShader||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createShader does not exist")};function qe(e,n){const t=je.call(s(e),n);return ie(t)?0:c(t)}const Ue=WebGL2RenderingContext.prototype.createTexture||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.createTexture does not exist")};function ze(e){const n=Ue.call(s(e));return ie(n)?0:c(n)}const Ve=WebGL2RenderingContext.prototype.drawElements||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.drawElements does not exist")};function Ke(e,n,t,o,r){Ve.call(s(e),n,t,o,r)}const Ye=WebGL2RenderingContext.prototype.enable||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.enable does not exist")};function Xe(e,n){Ye.call(s(e),n)}const Je=WebGL2RenderingContext.prototype.enableVertexAttribArray||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.enableVertexAttribArray does not exist")};function $e(e,n){Je.call(s(e),n)}const Ne=WebGL2RenderingContext.prototype.framebufferTexture2D||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.framebufferTexture2D does not exist")};function Qe(e,n,t,o,r,i){Ne.call(s(e),n,t,o,s(r),i)}const Ze=WebGL2RenderingContext.prototype.getAttribLocation||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getAttribLocation does not exist")};function en(e,n,t,o){let r=y(t,o);return Ze.call(s(e),s(n),r)}const nn=WebGL2RenderingContext.prototype.getError||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getError does not exist")};function tn(e){return nn.call(s(e))}const on=WebGL2RenderingContext.prototype.getProgramInfoLog||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getProgramInfoLog does not exist")};function rn(e,n,t){const o=on.call(s(n),s(t)),[r,i]=ie(o)?[0,0]:q(o),c=p();c[e/4]=r,c[e/4+1]=i}const cn=WebGL2RenderingContext.prototype.getProgramParameter||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getProgramParameter does not exist")};function dn(e,n,t){return c(cn.call(s(e),s(n),t))}const an=WebGL2RenderingContext.prototype.getShaderInfoLog||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getShaderInfoLog does not exist")};function un(e,n,t){const o=an.call(s(n),s(t)),[r,i]=ie(o)?[0,0]:q(o),c=p();c[e/4]=r,c[e/4+1]=i}const sn=WebGL2RenderingContext.prototype.getShaderParameter||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getShaderParameter does not exist")};function ln(e,n,t){return c(sn.call(s(e),s(n),t))}const fn=WebGL2RenderingContext.prototype.getUniformLocation||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.getUniformLocation does not exist")};function _n(e,n,t,o){let r=y(t,o);const i=fn.call(s(e),s(n),r);return ie(i)?0:c(i)}const wn=WebGL2RenderingContext.prototype.linkProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.linkProgram does not exist")};function pn(e,n){wn.call(s(e),s(n))}const gn=WebGL2RenderingContext.prototype.shaderSource||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.shaderSource does not exist")};function mn(e,n,t,o){let r=y(t,o);gn.call(s(e),s(n),r)}const bn=WebGL2RenderingContext.prototype.texParameteri||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.texParameteri does not exist")};function yn(e,n,t,o){bn.call(s(e),n,t,o)}const xn=WebGL2RenderingContext.prototype.uniform1f||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform1f does not exist")};function hn(e,n,t){xn.call(s(e),s(n),t)}const Ln=WebGL2RenderingContext.prototype.uniform1i||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.uniform1i does not exist")};function En(e,n,t){Ln.call(s(e),s(n),t)}const vn=WebGL2RenderingContext.prototype.useProgram||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.useProgram does not exist")};function Cn(e,n){vn.call(s(e),s(n))}const Rn=WebGL2RenderingContext.prototype.vertexAttribPointer||function(){throw new Error("wasm-bindgen: WebGL2RenderingContext.prototype.vertexAttribPointer does not exist")};function Gn(e,n,t,o,r,i,c){Rn.call(s(e),n,t,o,0!==r,i,c)}function Wn(e){return s(e)instanceof WheelEvent?1:0}const In=h(WheelEvent.prototype,"deltaY").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(WheelEvent.prototype, 'deltaY').get does not exist")};function Pn(e){return In.call(s(e))}function Dn(e){return s(e)instanceof Window?1:0}const Mn=function(e){return this.requestAnimationFrame(e)};function Bn(e,n,t){try{return Mn.call(s(e),s(n))}catch(e){const n=p();n[t/4]=1,n[t/4+1]=c(e)}}const Sn=function(){return this.document};function kn(e){const n=Sn.call(s(e));return ie(n)?0:c(n)}const On=function(){return this.performance};function Tn(e){const n=On.call(s(e));return ie(n)?0:c(n)}function An(e){return c(new Float32Array(s(e)))}const Fn=Float32Array.prototype.fill||function(){throw new Error("wasm-bindgen: Float32Array.prototype.fill does not exist")};function Hn(e,n,t,o){return c(Fn.call(s(e),n,t,o))}const jn=h(Float32Array.prototype,"buffer").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Float32Array.prototype, 'buffer').get does not exist")};function qn(e){return c(jn.call(s(e)))}function Un(e,n){let t=y(e,n);return c(new Function(t))}const zn=Function.prototype.call||function(){throw new Error("wasm-bindgen: Function.prototype.call does not exist")};function Vn(e,n,t){try{return c(zn.call(s(e),s(n)))}catch(e){const n=p();n[t/4]=1,n[t/4+1]=c(e)}}function Kn(e){return c(new Int32Array(s(e)))}const Yn=Int32Array.prototype.fill||function(){throw new Error("wasm-bindgen: Int32Array.prototype.fill does not exist")};function Xn(e,n,t,o){return c(Yn.call(s(e),n,t,o))}const Jn=h(Int32Array.prototype,"buffer").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Int32Array.prototype, 'buffer').get does not exist")};function $n(e){return c(Jn.call(s(e)))}function Nn(){return c(new Object)}const Qn=Reflect.set.bind(Reflect)||function(){throw new Error("wasm-bindgen: Reflect.set.bind(Reflect) does not exist")};function Zn(e,n,t,o){try{return Qn(s(e),s(n),s(t))?1:0}catch(e){const n=p();n[o/4]=1,n[o/4+1]=c(e)}}class et{free(){const e=this.ptr;this.ptr=0,function(e){o.a(e)}(e)}constructor(e,n,t,r,i,c,d,a){this.ptr=o.e(e,n,t,r,i,c,d?1:0,a)}add(e){return o.d(this.ptr,c(e))}}function nt(e){if(1==(1&e))return c(s(e));return r[e>>1].cnt+=1,e}function tt(e){if((e>>=1)<4)return;let n=r[e];n.cnt-=1,n.cnt>0||(r[e]=i,i=e)}function ot(e){tt(e)}function rt(e,n){return c(y(e,n))}function it(e){return c(e)}function ct(e){let n=s(e);return"boolean"==typeof n?n?1:0:2}function dt(e){let n=s(e).original;n.a=n.b=0,tt(e)}function at(e,n,t){let r=function(e){let n=this.a;this.a=0;try{return this.f(n,c(e))}finally{this.a=n}};r.f=o.b.get(n),r.a=e;let i=r.bind(r);return i.original=r,c(i)}function ut(e,n){throw new Error(y(e,n))}function st(e){return Math.tan(e)}},function(e,n,t){"use strict";var o=t.w[e.i];e.exports=o;t(2);o.h()}],0,[0]]);